# Week 16 作业评分标准

## 评分总览

| 层级 | 分值范围 | 核心要求 |
|------|---------|---------|
| **基础层** | 0-60 分 | 可复现性理解、报告生成脚本、审计清单 |
| **进阶层** | 0-30 分 | HTML 导出、展示叙事结构 |
| **挑战层** | 0-10 分 | 同行评审、CI/CD 集成 |
| **总计** | 0-100 分 | 满分 100 分（挑战层为加分项） |

---

## 基础层评分（60 分）

### 任务 1：可复现性自查（20 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 正确解释可复现报告流水线 | 6 分 | 3 分：列出 4+ 核心要素<br>3 分：解释清晰 |
| 说明 Notebook 不适合交付 | 5 分 | 3 分：给出 2+ 理由<br>2 分：理由准确 |
| 区分"能重跑"和"可复现" | 4 分 | 4 分：正确区分两者 |
| 列出当前项目问题 | 3 分 | 1 分/问题，最多 3 个 |
| 给出具体改进计划 | 2 分 | 2 分：计划具体可执行 |

**扣分项**：
- 认为"能跑"就是"可复现"：-6 分
- 没有识别随机种子问题：-3 分
- 改进计划太笼统：-2 分
- 没有检查依赖版本记录：-2 分
- 只列概念没有解释：-5 分

---

### 任务 2：构建报告生成脚本（25 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 脚本可线性执行 | 5 分 | 5 分：从上到下执行，无交互式输入 |
| 固定随机种子 | 6 分 | 6 分：在脚本开头固定随机种子 |
| 包含可复现信息章节 | 5 分 | 3 分：包含数据来源、版本、种子、时间<br>2 分：信息完整 |
| 自动生成 Markdown | 5 分 | 3 分：用 f-string 或 Jinja2 生成<br>2 分：结构清晰 |
| 图表路径引用正确 | 4 分 | 4 分：图表路径统一且正确 |

**扣分项**：
- 没有固定随机种子：-10 分（可复现性的关键）
- 脚本需要交互式输入：-5 分
- 手工编辑 report.md：-8 分（违背自动化原则）
- 图表路径硬编码混乱：-4 分
- 没有记录依赖版本：-3 分
- 只给代码没有说明：-5 分

---

### 任务 3：创建审计清单（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 审计清单覆盖 4 个维度 | 4 分 | 1 分/维度，共 4 个 |
| 每个维度至少 4 项 | 4 分 | 1 分/维度，每维度 4+ 项 |
| 实现自动检查脚本 | 3 分 | 3 分：检查至少 3 个项目 |
| 完成自检并记录问题 | 2 分 | 1 分：逐项勾选<br>1 分：记录问题 |
| 说明修复方案 | 2 分 | 2 分：每个问题都有修复方案 |

**扣分项**：
- 审计清单太简略：-5 分
- 没有实现自动检查：-5 分
- 只勾选没有记录问题：-3 分
- 没有说明修复方案：-3 分

---

## 进阶层评分（30 分）

### 任务 4：HTML 导出与样式美化（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 成功转换 Markdown 为 HTML | 5 分 | 3 分：使用 Pandoc 或 Python 库<br>2 分：转换成功 |
| 添加自定义样式 | 4 分 | 4 分：CSS 样式合理 |
| 图表正常显示 | 3 分 | 3 分：所有图表都能显示 |
| 说明 HTML 版本优势 | 3 分 | 3 分：说明清晰 |

**扣分项**：
- 图表路径不正确：-5 分
- CSS 样式没有应用：-3 分
- 中文编码问题：-3 分
- 没有添加导航：-2 分

---

### 任务 5：展示叙事结构（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 遵循"问题-方法-发现-边界-反思"结构 | 5 分 | 1 分/环节，共 5 个 |
| 每个环节有时长控制 | 2 分 | 2 分：时长合理 |
| 为每张图写说明 | 4 分 | 2 分：每张图有说明<br>2 分：说明清晰 |
| 说明如何避免堆砌结果 | 4 分 | 4 分：说明有洞察 |

**扣分项**：
- 开头介绍工具而不是问题：-3 分
- 堆砌所有图表：-5 分
- 没有说明不确定性：-4 分
- 没有回到原始问题收束：-3 分
- 超过 10 分钟的内容量：-2 分

---

## 挑战层评分（10 分 + 加分）

### 任务 6：同行评审（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 按审计清单逐项检查 | 1 分 | 1 分：逐项检查 |
| 至少指出 2 个可改进点 | 2 分 | 1 分/问题，最多 2 分 |
| 给出具体改进建议 | 1 分 | 1 分：建议具体可执行 |
| 作者回应清晰 | 1 分 | 1 分：接受/拒绝 + 理由 |

---

### 任务 7：CI/CD 集成（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 创建自动化脚本 | 2 分 | 2 分：Makefile/GitHub Actions/Shell 脚本 |
| 一条命令完成报告生成 | 1 分 | 1 分：一键执行 |
| 说明如何使用 | 1 分 | 1 分：说明清晰 |
| 成功部署（可选） | 1 分 | 1 分：部署到网页 |

---

## AI 协作练习（可选，额外 3-5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 审查清单完成 | 2 分 | 2 分：勾选了 AI 生成内容中的问题 |
| 修订版质量 | 3 分 | 3 分：修订版准确、完整，修正了识别出的问题 |
| AI 使用日志（如有） | 额外 2 分 | 2 分：记录完整，有反思 |

---

## StatLab 任务（额外 20 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 报告生成流水线 | 5 分 | 2 分：入口脚本可执行<br>2 分：调用所有分析模块<br>1 分：生成 report.md |
| 审计清单完整 | 5 分 | 2 分：清单完整<br>2 分：自检完成<br>1 分：问题已修复 |
| 展示材料准备 | 5 分 | 2 分：展示脚本完整<br>2 分：关键图表有说明<br>1 分：时长控制合理 |
| 报告质量 | 5 分 | 2 分：结构清晰<br>2 分：包含所有必需章节<br>1 分：语言专业 |

---

## 评分维度说明

### 1. 可复现性（25%）

核心要求：
- 脚本可一键运行
- 随机种子固定
- 版本记录完整
- 报告自动生成

评分标准：
- **优秀**：脚本完全可复现，任何人运行都能得到相同结果
- **良好**：脚本基本可复现，可能有小的路径问题
- **及格**：脚本能运行，但没有固定随机种子或版本记录
- **不及格**：脚本无法运行或需要大量手工操作

### 2. 报告完整性（25%）

核心要求：
- 包含所有必需章节
- 图表清晰、引用正确
- 可复现信息完整
- 结论与限制明确

评分标准：
- **优秀**：报告结构完整，所有章节清晰，图表专业
- **良好**：报告基本完整，有少量遗漏
- **及格**：报告有主要章节，但缺少重要元素（如限制说明）
- **不及格**：报告结构混乱，缺少核心章节

### 3. 审计清单（20%）

核心要求：
- 清单覆盖所有维度
- 自检完整
- 问题已修复
- 有修复记录

评分标准：
- **优秀**：清单完整，自检详细，所有问题已修复
- **良好**：清单基本完整，自检完成，主要问题已修复
- **及格**：有清单和自检，但有遗漏
- **不及格**：清单不完整或没有自检

### 4. 展示叙事（20%）

核心要求：
- 结构清晰（问题-方法-发现-边界-反思）
- 重点突出
- 图表有说明
- 不确定性表达诚实

评分标准：
- **优秀**：叙事清晰，重点突出，图表说明准确，不确定性表达完整
- **良好**：叙事基本清晰，有重点，图表有说明
- **及格**：有叙事结构，但重点不突出或缺少不确定性表达
- **不及格**：叙事混乱，堆砌结果

### 5. AI 使用记录（10%）

核心要求：
- 记录完整
- 有反思
- 采纳/拒绝有理由

评分标准：
- **优秀**：记录详细，有深刻反思，理由充分
- **良好**：记录基本完整，有反思
- **及格**：有记录，但反思不足
- **不及格**：没有记录或记录不完整

---

## 常见错误与扣分标准

| 错误类型 | 扣分 | 说明 |
|---------|------|------|
| 没有固定随机种子 | -10 分 | 可复现性的关键错误 |
| 手工编辑 report.md | -8 分 | 违背自动化原则 |
| 脚本需要交互式输入 | -5 分 | 无法自动化 |
| 没有记录依赖版本 | -5 分 | 环境不可复现 |
| 审计清单太简略 | -5 分 | 失去审计意义 |
| 展示堆砌所有内容 | -8 分 | 叙事不清晰 |
| 没有说明不确定性 | -6 分 | 违背诚实性原则 |
| 使用 AI 但无审查记录 | -10 分 | 无法区分 AI 输出和你的判断 |
| 代码无法运行 | -10 分 | 需确保代码可运行或注明伪代码 |
| 只给代码没有分析 | -20% | 分析和代码同等重要 |
| 复制粘贴示例内容 | -15 分 | 必须用你自己的话 |

---

## 优秀作业示例特征

一份优秀的作业应该：

1. **可复现性部分**：
   - 正确理解了可复现报告流水线的核心要素
   - 脚本可以从上到下线性执行
   - 固定了所有随机种子
   - 包含完整的可复现信息（数据来源、版本、种子、时间）
   - 自动生成 Markdown，不是手工编辑

2. **报告生成部分**：
   - 入口脚本结构清晰
   - 调用了所有分析模块
   - 图表路径统一且正确
   - 生成的报告结构完整

3. **审计清单部分**：
   - 清单覆盖 4 个维度（可复现性、统计假设、诚实性、叙事结构）
   - 每个维度至少 4 项
   - 实现了自动检查脚本
   - 自检完整，问题已修复

4. **展示叙事部分**：
   - 遵循"问题-方法-发现-边界-反思"结构
   - 每个环节有时长控制
   - 为每张图写了"听众应该看到什么"的说明
   - 说明了如何避免堆砌结果

5. **AI 使用记录（如有）**：
   - 记录了采纳/拒绝的建议
   - 每条建议都有理由
   - 有自己的修改和反思

---

## 反馈建议模板

在给作业反馈时，可以使用以下模板：

```
【优点】
- （具体表扬，如：脚本完全可复现，固定了随机种子，报告结构完整）

【可复现性】
- （具体问题，如：没有记录依赖版本，建议添加 requirements.txt）
- （具体建议，如：在脚本开头固定所有随机种子，包括 train_test_split 的 random_state）

【报告完整性】
- （具体问题，如：缺少"数据清洗"章节）
- （具体建议，如：在"数据概览"后添加"数据清洗"小节，说明缺失值处理策略）

【审计清单】
- （具体问题，如：审计清单太简略，每项只有一句话）
- （具体建议，如：为每项添加具体说明，如"数据来源明确：写清楚数据从哪来，包括 URL"）

【展示叙事】
- （具体问题，如：展示脚本堆砌了所有内容，超过 10 分钟）
- （具体建议，如：按照"问题-方法-发现-边界-反思"结构，每个环节严格控制时长）

【总分】X/100
```

---

## 测试与验证

作业中的关键检查点应该能被 `tests/` 目录中的测试覆盖：

- `test_report_script_runs()`：验证报告生成脚本可执行
- `test_random_seed_fixed()`：验证随机种子是否固定
- `test_reproducibility_info()`：验证可复现信息是否完整
- `test_audit_checklist()`：验证审计清单是否完整
- `test_markdown_generation()`：验证 Markdown 生成是否正确

评分时可以运行这些测试来验证代码正确性。

---

## 最后提醒

评分的目的是帮助学生学习，而不仅仅是打分。在评分时：

1. 指出具体的错误和改进方向
2. 鼓励学生明确数据预处理步骤和可复现性要求
3. 认可学生对报告质量的努力（从"能跑"到"能交付"的转变）
4. 强调"可复现、可审计、诚实"是专业分析的核心原则

记住 Week 16 的核心目标：**理解可复现报告流水线的核心要素、学会用脚本自动化生成报告、掌握审计清单的设计方法、构建展示叙事结构、在 AI 辅助下完成报告润色并保留审查记录、交付完整的 StatLab 终稿报告。**

特别提醒：本周的"可复现性"和"审计清单"是新增的核心评分维度，与传统的技术正确性同等重要。报告的价值不仅在于结论，更在于可复现、可审计、诚实。AI 可以加速，但学生要对结果负责。
