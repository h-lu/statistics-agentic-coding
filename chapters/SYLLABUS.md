# 统计学与 Agentic 数据分析 — 14周教学大纲

> **核心理念**：AI 可以帮你跑统计检验，但不懂业务场景和数据背后的意义，只会得到错误的结论。本课程培养"数据翻译官"——既懂统计原理，又会用 AI 工具高效分析，更能判断结论是否可靠。

---

## 课程定位

- **目标学生**：有一定 Python 基础，需要数据分析能力但非统计专业
- **课程时长**：14 周
- **技术栈**：Python + pandas + numpy + scipy + statsmodels + matplotlib/seaborn
- **项目形式**：个人/小组数据分析报告 + 期末数据故事展示
- **AI 理念**：AI 是分析加速器，但人类负责提问、解释和判断

---

## 核心理念

### AI 时代的统计素养

传统统计学教学关注"如何计算"，但在 AI 时代：
- **AI 擅长**：运行统计检验、生成图表、拟合模型、处理大数据
- **人类必须掌握**：
  - 提出正确的问题（Question Formulation）
  - 理解数据背后的业务场景
  - 判断统计结论是否可靠（p-hacking、因果 vs 相关）
  - 用数据讲述有说服力的故事

> **关键认知**：给 AI 错误的数据和问题，你会得到"精确的错误"。统计思维是防止被 AI 误导的免疫系统。

### Agentic 数据分析工作流

本课程采用"假设驱动"的分析流程：

```
1. QUESTION（提问）
   └── 业务问题 → 可验证假设
   
2. EXPLORE（探索）
   └── 数据清洗、可视化、发现模式
   
3. MODEL（建模）
   └── 选择合适模型、验证假设
   
4. INTERPRET（解释）
   └── 统计显著性 → 业务意义
   
5. COMMUNICATE（传达）
   └── 数据可视化 + 故事叙述
```

### 与 AI 协作的四个阶段

| 阶段 | 学生能力 | AI 角色 |
|------|---------|---------|
| 观察期（Week 01-03） | 学习基础统计概念 | AI 演示代码，学生观察学习 |
| 识别期（Week 04-06） | 能读懂 AI 生成的分析 | AI 生成分析，学生判断对错 |
| 协作期（Week 07-10） | 与 AI 共同完成分析 | AI 执行计算，学生主导解释 |
| 主导期（Week 11-14） | 独立设计分析方案 | AI 辅助实现，学生负责决策 |

---

## 14 周详细安排

### 阶段一：数据探索基础（Week 01-04）

#### Week 01：数据思维入门
**主题**：从"看数字"到"问问题"

**核心内容**：
- 统计学的三个核心问题：描述、推断、预测
- 数据类型：数值型 vs 分类型；连续 vs 离散
- Python 数据工具链：pandas 入门
- 数据获取：CSV、API、数据库简介

**实践**：
- 加载真实数据集（如 Titanic、Iris）
- 用 pandas 做基础数据探索

**AI 融合**：
- 观察 AI 如何自动生成数据摘要
- 讨论：AI 生成的描述性统计是否有用？

**贯穿项目进度**：
- 选择期末项目数据集
- 初步数据探索报告

---

#### Week 02：描述性统计与数据可视化
**主题**：让数据"说话"

**核心内容**：
- 集中趋势：均值、中位数、众数
- 离散程度：标准差、方差、四分位数
- 分布形状：偏度、峰度
- 可视化原则：什么图表适合什么数据
- matplotlib / seaborn 基础

**实践**：
- 为自己的数据集生成描述性统计
- 创建数据可视化仪表板（3-5 个图表）

**AI 融合**：
- 用 AI 生成可视化代码
- 批判性评估：AI 选的图表类型合适吗？

---

#### Week 03：数据清洗与预处理
**主题**：脏数据是分析的最大敌人

**核心内容**：
- 缺失值处理：删除 vs 填充 vs 预测
- 异常值检测：IQR、Z-score、业务规则
- 数据类型转换、编码（One-hot、Label）
- 特征缩放：标准化 vs 归一化

**实践**：
- 清洗项目数据集
- 记录清洗决策（为什么删除这行？）

**AI 融合**：
- AI 辅助发现异常模式
- 人工判断：这是真正的异常还是有趣的发现？

---

#### Week 04：探索性数据分析（EDA）
**主题**：在正式检验前，先和数据"对话"

**核心内容**：
- EDA 方法论：从假设到发现再到验证
- 相关分析：Pearson、Spearman
- 分组比较：groupby 分析
- 时间序列初步（如适用）

**实践**：
- 完成项目数据集的全套 EDA
- 发现 3-5 个有趣的初步发现

**里程碑**：
- 提交 EDA 报告（数据清洗 + 描述统计 + 可视化）

---

### 阶段二：统计推断（Week 05-08）

#### Week 05：概率与分布
**主题**：理解随机性的语言

**核心内容**：
- 概率基础：条件概率、贝叶斯定理
- 常见分布：正态、二项、泊松
- 中心极限定理：为什么它如此重要
- 抽样：随机抽样、分层抽样

**实践**：
- 模拟抽样实验（用代码验证 CLT）
- 判断项目数据是否符合正态分布

**AI 融合**：
- AI 生成分布拟合代码
- 学生判断：这个分布假设合理吗？

---

#### Week 06：假设检验基础
**主题**：用数据检验想法

**核心内容**：
- 假设检验框架：H0、H1、p-value
- 单样本检验：t 检验
- 两类错误：假阳性、假阴性
- 统计功效、效应量

**实践**：
- 对项目数据做 3 个假设检验
- 解释 p-value 的业务含义

**AI 融合**：
- AI 执行检验计算
- 学生负责：
  - 确定检验假设是否合理
  - 解释结果的业务意义
  - 判断是否需要多重检验校正

---

#### Week 07：比较与关联
**主题**：组间差异与变量关系

**核心内容**：
- 双样本检验：独立样本 vs 配对样本
- 方差分析（ANOVA）：比较多组
- 卡方检验：分类变量关联
- 相关 vs 因果：反复强调的区别

**实践**：
- 分析项目数据中的组间差异
- 建立变量关系图

**AI 融合**：
- 使用 AI 辅助选择合适的检验方法
- 学习如何向 AI 提问获得正确的检验

---

#### Week 08：置信区间与效应量
**主题**：超越"显著/不显著"

**核心内容**：
- 置信区间：估计的不确定性
- 效应量：实际重要性 vs 统计显著性
- 统计显著性的局限性（p-hacking 问题）
- 可重复性危机

**实践**：
- 为之前的检验添加置信区间和效应量
- 批判性评估：这些发现重要吗？

**里程碑**：
- 统计推断报告（假设检验 + 置信区间 + 效应量）

---

### 阶段三：预测建模（Week 09-11）

#### Week 09：回归分析入门
**主题**：用变量预测变量

**核心内容**：
- 简单线性回归：最小二乘法
- 模型评估：R²、RMSE、残差分析
- 多元回归：多个预测变量
- 回归假设：线性、独立性、正态性、等方差性

**实践**：
- 为项目数据建立回归模型
- 诊断模型假设是否满足

**AI 融合**：
- AI 快速拟合多个模型
- 学生负责：
  - 选择合适的预测变量
  - 诊断模型问题
  - 解释系数含义

---

#### Week 10：分类与预测
**主题**：预测离散结果

**核心内容**：
- 逻辑回归：从回归到分类
- 分类评估：准确率、精确率、召回率、F1、ROC-AUC
- 过拟合与交叉验证
- 特征工程初步

**实践**：
- 建立分类模型（如生存预测、类别预测）
- 评估模型性能

**AI 融合**：
- AI 自动尝试多种模型
- 学生负责：
  - 定义评估指标（什么算"好"？）
  - 判断模型是否过拟合
  - 解释模型结果

---

#### Week 11：模型解释与沟通
**主题**：让模型结果可被理解

**核心内容**：
- 可解释 AI：特征重要性、SHAP 值
- 模型局限性：相关≠因果
- 向非技术人员解释统计结果
- 数据伦理：偏见、公平性、隐私

**实践**：
- 为模型结果创建"故事版"
- 准备向非统计背景观众展示

**里程碑**：
- 预测建模报告（模型 + 评估 + 解释）

---

### 阶段四：综合实战（Week 12-14）

#### Week 12：高级主题选讲
**主题**：根据项目需求深入学习

**可选主题**（根据学生项目需求选择 2-3 个）：
- 时间序列分析（趋势、季节性、ARIMA）
- 聚类分析（K-means、层次聚类）
- 降维（PCA、t-SNE）
- 贝叶斯统计
- A/B 测试设计
- 因果推断入门

**实践**：
- 将选学方法应用到项目数据

---

#### Week 13：期末项目冲刺
**主题**：从分析到故事

**核心内容**：
- 数据故事叙述结构
- 可视化最佳实践
- 技术报告写作

**实践**：
- 完成项目分析报告
- 制作展示 PPT/海报

---

#### Week 14：期末展示与复盘
**主题**：展示你的数据发现

**期末展示**（每组 10-15 分钟）：
- 研究问题与数据介绍
- 分析方法与关键发现
- 可视化亮点
- AI 使用反思

**课程复盘**：
- 统计思维成长回顾
- AI 协作经验总结
- 从"会跑代码"到"会提问题"的转变

---

## 贯穿项目：数据探索者报告

### 项目要求

学生选择一个真实数据集，完成从探索到建模的完整分析：

**可选数据集**：
1. **公共数据集**：Kaggle、UCI、政府开放数据
2. **自建数据集**：问卷调查、实验数据、爬虫获取
3. **行业数据**：实习/工作中的数据（脱敏后）

**分析要求**：
- 明确的研究问题（不能只是"探索数据"）
- 完整的分析流程（EDA → 推断/建模 → 解释）
- 至少 2 个统计检验或 1 个预测模型
- 数据可视化贯穿始终
- AI 使用记录和反思

**交付物**：
1. 分析报告（Jupyter Notebook / HTML）
2. 数据集和清洗脚本
3. 展示 PPT（面向非技术观众）
4. AI 使用日志

---

## AI 协作检查清单

学生在使用 AI 辅助分析时，必须用以下清单自我审查：

### 数据问题
- [ ] AI 建议的清洗方法适合我的数据吗？
- [ ] 缺失值处理方式是否合理？
- [ ] 异常值是真正的错误还是有价值的发现？

### 分析问题
- [ ] AI 选的统计检验适合我的研究问题吗？
- [ ] 检验的前提假设满足吗？
- [ ] p-value 小 = 重要吗？效应量如何？

### 模型问题
- [ ] 模型在训练集上表现好 = 好模型吗？
- [ ] 是否检查了过拟合？
- [ ] 模型结果能解释吗？还是黑盒？

### 解释问题
- [ ] 相关 = 因果？我是否混淆了？
- [ ] 结论是否能被数据支持？
- [ ] 有没有遗漏的混淆变量？

---

## 评估体系

| 维度 | 占比 | 说明 |
|------|------|------|
| **周作业** | 30% | 14 周作业，每周数据分析任务 |
| **贯穿项目** | 30% | 期末数据分析报告 |
| **AI 协作能力** | 15% | AI 使用日志质量、批判性评估 |
| **期末展示** | 15% | 数据故事叙述、可视化 |
| **课堂参与** | 10% | 讨论、Code Review |

---

## 技术栈

| 用途 | 工具 |
|------|------|
| 数据处理 | pandas, numpy |
| 可视化 | matplotlib, seaborn, plotly |
| 统计检验 | scipy.stats, statsmodels |
| 机器学习 | scikit-learn |
| 环境 | Jupyter Notebook / VS Code |
| 版本控制 | Git |

---

## 与 Python 编程课的关系

### 前置要求
- 完成《Python 程序设计（Agentic Coding）》或同等水平
- 熟悉 Python 基础语法、函数、数据结构

### 课程差异
| Python 课 | 统计课 |
|-----------|--------|
| 目标是"写出程序" | 目标是"理解数据" |
| PyHelper CLI 项目 | 数据分析报告 |
| 关注代码质量 | 关注分析质量 |
| AI 辅助编程 | AI 辅助分析 |

---

## 生成指南

```bash
# 生成单周
/team-week week_01

# 质量检查
/qa-week week_01

# 发布
/release-week week_01
```

---

**最后更新**：2025 年 2 月
