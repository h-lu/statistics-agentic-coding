# Week 01 评分标准

## 基础练习（60 分）

### 练习 1：统计三问分析（20 分）

| 评分点 | 分值 | 说明 |
|--------|------|------|
| 描述性问题准确 | 7 分 | 关注"数据长什么样"（均值、分布、缺失等），不涉及推断到总体。每答对一题得 2-3 分，有概念混淆扣分 |
| 推断性问题准确 | 7 分 | 明确提到"样本与总体"或"差异是否真实/偶然"。只写"是否有影响"等模糊表述得部分分 |
| 预测性问题准确 | 4 分 | 有明确的输入特征和输出目标，不是泛泛而谈 |
| 问题具体可回答 | 2 分 | 问题不模糊、有明确的数据字段支撑 |

**扣分项**：
- 把"推断"写成"预测"（如："能否预测某因素是否影响某结果"）：扣 3-5 分
- 问题太宽泛无法回答（如："数据是什么"）：扣 2 分/题
- 三类问题明显混淆：每处扣 2 分

---

### 练习 2：数据类型判断（20 分）

| 评分点 | 分值 | 说明 |
|--------|------|------|
| pandas 类型准确 | 5 分 | 与实际 `df.dtypes` 输出一致 |
| 统计学类型准确 | 7 分 | 正确区分数值型和分类型。关键判断：邮政编码、ID 等应为分类型；每错一个扣 1-2 分 |
| 连续/离散准确 | 4 分 | 仅数值型需要填，连续（可测量）、离散（计数）区分正确 |
| 名义/有序准确 | 4 分 | 仅分类型需要填，有顺序差异的为有序 |

**扣分项**：
- 邮政编码、电话号码、ID 等当成数值型：每处扣 2 分
- 连续/离散判断错误（如年龄写成离散）：每处扣 1 分
- 有序分类没识别（如满意度评分写成名义）：每处扣 1 分

---

### 练习 3：数据卡生成（20 分）

| 评分点 | 分值 | 说明 |
|--------|------|------|
| 成功读取数据 | 4 分 | 代码能运行，正确打印 `shape` 和 `dtypes`。路径不写死、无编码问题 |
| 函数实现正确 | 6 分 | `generate_data_card(df, metadata)` 能返回正确格式的 Markdown 字符串 |
| 缺失率计算正确 | 5 分 | 公式正确（`缺失数 / 总行数 * 100`），保留合理小数位 |
| 文件写入成功 | 3 分 | `data_card.md` 文件存在且内容完整 |
| Markdown 格式正确 | 2 分 | 表格对齐、标题层级正确 |

**扣分项**：
- 路径写死（绝对路径）：扣 2 分
- 缺失率计算错误（没乘 100、没用 round）：扣 2-3 分
- 只 print 不写文件：扣 2 分
- Markdown 格式混乱：扣 1-2 分

---

## 进阶练习（30 分）

### 练习 4：完善的数据卡生成器（15 分）

| 评分点 | 分值 | 说明 |
|--------|------|------|
| 类型推断合理 | 5 分 | 能根据 pandas 类型和唯一值数量自动判断统计学类型，逻辑合理 |
| 描述统计正确 | 4 分 | 数值型字段的均值、中位数、标准差计算正确 |
| 分类值概览正确 | 3 分 | 分类型字段的唯一值数量、常见值统计正确 |
| 代码结构清晰 | 3 分 | 有适当的函数拆分，不写成一大坨 |

**加分项**：
- 处理边界情况（如全空列、单值列）：加 1-2 分

---

### 练习 5：处理有坑数据集（15 分）

| 评分点 | 分值 | 说明 |
|--------|------|------|
| 正确识别编码问题 | 4 分 | 尝试多种编码（utf-8、gbk、gb18030），成功读取 |
| 正确修正类型推断 | 5 分 | 用 `astype()` 或 `dtype` 参数修正 pandas 推断错误的类型 |
| 正确解析日期 | 4 分 | 用 `parse_dates` 参数正确解析日期列 |
| 记录问题和解决方案 | 2 分 | 在数据卡中清晰说明遇到的问题和解决方法 |

**加分项**：
- 处理多种复杂问题（编码+类型+日期）：加 1-2 分
- 写成通用的"智能读取"函数：加 1 分

---

## 挑战练习（10 分）

### 练习 6：自动化数据卡生成器（10 分）

| 评分点 | 分值 | 说明 |
|--------|------|------|
| 类封装合理 | 3 分 | 使用类（class）封装，结构清晰，有合理的 `__init__` 和方法划分 |
| 配置灵活 | 3 分 | 支持自定义元数据模板、可配置统计量 |
| 问题检测合理 | 3 分 | 能检测高缺失率列、ID 列、常量列，逻辑合理 |
| 可复用性 | 1 分 | 有文档字符串和注释，易于其他数据集使用 |

**加分项**：
- 支持多种导出格式（JSON、HTML）：加 1 分
- 有单元测试或使用示例：加 1 分

---

## 总分计算

- **基础练习**：60 分（必做）
- **进阶练习**：30 分（选做）
- **挑战练习**：10 分（选做）
- **总分上限**：100 分

**合格线**：60 分（完成基础练习即可）

---

## 通用评分标准（适用于所有练习）

### 代码质量（额外扣分项）

| 问题 | 扣分 |
|------|------|
| 代码无法运行 | 该题 0 分 |
| 变量命名混乱（如 `a`、`b`、`x`、`tmp`） | 扣 1-2 分 |
| 完全没有注释 | 扣 1 分 |
| 硬编码绝对路径 | 扣 2 分 |
| 大量复制粘贴代码（未封装函数） | 扣 2 分 |

### 可复现性（额外扣分项）

| 问题 | 扣分 |
|------|------|
| 未说明数据来源 | 扣 2 分 |
| 随机操作未设置种子 | 扣 1 分 |
| 没有 README 或运行说明 | 扣 1 分 |
| 他人无法复现结果 | 扣 2-5 分 |

---

## 快速评分清单（供助教参考）

### 练习 1（20 分）
- [ ] 描述性问题：3 个，关注数据本身（7 分）
- [ ] 推断性问题：1 个，涉及样本与总体（7 分）
- [ ] 预测性问题：1 个，有明确输入输出（4 分）
- [ ] 问题具体可回答（2 分）

### 练习 2（20 分）
- [ ] pandas 类型准确（5 分）
- [ ] 统计学类型准确，邮编/ID 为分类（7 分）
- [ ] 连续/离散正确（4 分）
- [ ] 名义/有序正确（4 分）

### 练习 3（20 分）
- [ ] 成功读取数据（4 分）
- [ ] 函数实现正确（6 分）
- [ ] 缺失率计算正确（5 分）
- [ ] 文件写入成功 + 格式正确（5 分）

### 练习 4（15 分，选做）
- [ ] 类型推断合理（5 分）
- [ ] 描述统计正确（4 分）
- [ ] 分类值概览正确（3 分）
- [ ] 代码结构清晰（3 分）

### 练习 5（15 分，选做）
- [ ] 编码问题解决（4 分）
- [ ] 类型修正（5 分）
- [ ] 日期解析（4 分）
- [ ] 记录问题（2 分）

### 练习 6（10 分，选做）
- [ ] 类封装（3 分）
- [ ] 配置灵活（3 分）
- [ ] 问题检测（3 分）
- [ ] 可复用性（1 分）

---

## 反馈建议模板

对学生作业的反馈可以参考以下格式：

```markdown
## Week 01 作业反馈

**总分**：XX / 100

### 做得好的地方
- ...

### 需要改进的地方
- 练习 1：推断性问题写成了"某因素是否影响某结果"，这是预测/推断的混淆。推断应该关注"样本中的差异是否能推广到总体"。
- 练习 2：邮政编码被当成数值型，但算均值没有意义。
- 练习 3：代码中使用了绝对路径，换个电脑就无法运行。

### 下周建议
- 多关注"统计三问"在真实数据分析中的应用
- 练习判断数据类型的直觉：能加减乘除的是数值型，只能计数或分类的是分类型
```
