# Week 15 作业评分标准

## 评分总览

| 层级 | 分值范围 | 核心要求 |
|------|---------|---------|
| **基础层** | 0-60 分 | 维度灾难理解、PCA 降维与解释、K-means 聚类与评估 |
| **进阶层** | 0-30 分 | 降维+聚类组合、PCA vs 特征选择对比 |
| **挑战层** | 0-10 分 | 层次聚类分析、聚类稳定性分析 |
| **总计** | 0-100 分 | 满分 100 分（挑战层为加分项） |

---

## 基础层评分（60 分）

### 任务 1：维度灾难——高维数据的陷阱（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 正确解释维度灾难的概念 | 4 分 | 4 分：正确解释了维度灾难及其表现 |
| 给出三个需要降维的信号 | 6 分 | 2 分/信号，共 3 个信号 |
| 区分特征选择和降维 | 5 分 | 3 分：正确区分本质差异<br>2 分：说明应用场景 |

**扣分项**：
- 认为"特征越多越好"：-4 分
- 混淆特征选择和降维：-5 分
- 没有理解高维空间中距离度量失效：-3 分
- 只列概念没有解释：-5 分

---

### 任务 2：PCA 降维——从 50 维到 2 维（25 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 正确标准化数据 | 4 分 | 4 分：使用 StandardScaler 标准化 |
| 计算累积解释方差 | 5 分 | 3 分：正确计算累积方差<br>2 分：选择合理的主成分数量 |
| 查看主成分载荷 | 6 分 | 3 分：正确提取载荷<br>3 分：识别关键特征 |
| 解释主成分业务含义 | 6 分 | 3 分：将主成分命名<br>3 分：解释合理 |
| 可视化降维结果 | 4 分 | 2 分：累积方差图<br>2 分：2D 散点图 |

**扣分项**：
- 忘记标准化数据：-8 分（PCA 对尺度敏感，这是关键错误）
- 没有解释主成分含义：-8 分
- 图表没有标注：-3 分
- 只给代码没有分析：-10 分

---

### 任务 3：K-means 聚类——发现隐藏分组（20 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 尝试多个 K 值 | 4 分 | 4 分：遍历 K=2 到 K=10 |
| 用轮廓系数选择 K | 5 分 | 3 分：计算轮廓系数<br>2 分：选择合理的 K |
| 解释轮廓系数含义 | 3 分 | 3 分：正确解释轮廓系数范围和含义 |
| 解释聚类结果业务含义 | 5 分 | 3 分：查看簇中心<br>2 分：翻译成业务语言 |
| 可视化聚类评估 | 3 分 | 2 分：肘部法则图<br>1 分：轮廓系数图 |

**扣分项**：
- 没有标准化数据：-8 分（K-means 对尺度敏感）
- 只用一个 K 值：-6 分
- 没有评估聚类质量：-5 分
- 把聚类当成分类：-5 分
- 只给代码没有分析：-10 分

---

## 进阶层评分（30 分）

### 任务 4：降维 + 聚类组合（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 正确实现两种方法 | 5 分 | 2 分：原始数据聚类<br>3 分：PCA+聚类 |
| 比较轮廓系数和运行时间 | 4 分 | 2 分：比较轮廓系数<br>2 分：比较运行时间 |
| 解释两种方法的优劣 | 4 分 | 4 分：解释合理 |
| 给出使用建议 | 2 分 | 2 分：建议合理 |

**扣分项**：
- 只实现了一种方法：-8 分
- 没有比较两种方法：-5 分
- 没有解释差异原因：-3 分

---

### 任务 5：PCA vs 特征选择（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 正确实现两种方法 | 5 分 | 2 分：PCA 降维<br>3 分：SelectKBest |
| 比较模型性能 | 3 分 | 3 分：用交叉验证比较 |
| 讨论可解释性差异 | 4 分 | 4 分：解释清晰 |
| 给出决策建议 | 3 分 | 3 分：建议实用 |

**扣分项**：
- 只实现了一种方法：-8 分
- 没有讨论可解释性：-5 分（这是核心区别）
- 没有给出使用建议：-3 分

---

## 挑战层评分（10 分 + 加分）

### 任务 6：层次聚类分析（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 正确使用 scipy 做层次聚类 | 2 分 | 2 分：使用 linkage 和 dendrogram |
| 绘制树状图 | 1 分 | 1 分：树状图清晰 |
| 从树状图选择 K 值 | 1 分 | 1 分：选择合理 |
| 比较 K-means 和层次聚类 | 1 分 | 1 分：比较合理 |

---

### 任务 7：聚类稳定性分析（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 正确实现 Bootstrap 分析 | 2 分 | 2 分：重采样和 ARI 计算 |
| 计算聚类一致性 | 1 分 | 1 分：使用 adjusted_rand_score |
| 解释稳定性结果 | 1 分 | 1 分：解释合理 |
| 给出改进建议 | 1 分 | 1 分：建议合理 |

---

## AI 协作练习（可选，额外 3-5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 审查清单完成 | 2 分 | 2 分：勾选了 AI 生成内容中的问题 |
| 修订版质量 | 3 分 | 3 分：修订版准确、完整，修正了识别出的问题 |

---

## StatLab 任务（额外 10 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| PCA 降维可视化 | 3 分 | 1 分：累积方差图<br>1 分：2D 散点图<br>1 分：主成分解释 |
| K-means 聚类分析 | 4 分 | 1 分：K 值选择<br>2 分：簇中心计算<br>1 分：业务解释 |
| 报告完整性 | 3 分 | 3 分：报告结构清晰、包含所有必要元素 |

---

## 评分维度说明

### 1. 概念理解（30%）
- 理解维度灾难及其影响
- 区分降维和特征选择
- 理解 PCA 的几何直觉（最大化方差）
- 理解 K-means 的算法步骤
- 区分聚类和分类

### 2. 实践能力（40%）
- 正确标准化数据（PCA 和 K-means 的前提）
- 用 scikit-learn 实现 PCA
- 用 scikit-learn 实现 K-means
- 用轮廓系数评估聚类质量
- 可视化降维和聚类结果

### 3. 结果解释（20%）
- 解释主成分的载荷
- 将主成分翻译成业务语言
- 解释聚类结果的业务含义
- 比较不同方法的优劣

### 4. 批判性思维（10%）
- 识别 AI 生成内容的问题
- 反思聚类结果的稳定性
- 讨论降维和聚类的局限性

---

## 常见错误与扣分标准

| 错误类型 | 扣分 | 说明 |
|---------|------|------|
| PCA 前忘记标准化 | -8 分 | PCA 对尺度敏感，方差大的特征会主导主成分 |
| K-means 前忘记标准化 | -8 分 | K-means 对尺度敏感，方差大的特征会主导距离 |
| 没有解释主成分含义 | -8 分 | PCA 的价值在于可解释性 |
| 只用一个 K 值 | -6 分 | 需要尝试多个 K 值并选择最优的 |
| 把聚类当成分类 | -5 分 | 聚类是探索工具，不是预测工具 |
| 没有评估聚类质量 | -5 分 | 轮廓系数是必须检查的 |
| 代码无法运行 | -8 分 | 需确保代码可运行或注明伪代码 |
| 只给代码没有分析 | -20% | 分析和代码同等重要 |
| 复制粘贴示例内容 | -10 分 | 必须用你自己的话 |

---

## 优秀作业示例特征

一份优秀的作业应该：

1. **概念理解部分**：
   - 正确解释了维度灾难及其表现
   - 正确区分了降维和特征选择
   - 理解 PCA 对尺度敏感，必须先标准化
   - 理解 K-means 对尺度敏感，必须先标准化

2. **PCA 实践部分**：
   - 正确标准化了数据
   - 计算了累积解释方差
   - 查看了主成分载荷
   - 将主成分翻译成了业务语言（如"综合活跃度"）
   - 可视化了累积方差和 2D 散点图

3. **K-means 实践部分**：
   - 尝试了多个 K 值（2-10）
   - 用轮廓系数和肘部法则选择了 K
   - 解释了轮廓系数的含义
   - 将簇翻译成了业务语言（如"高价值型客户"）
   - 可视化了聚类评估

4. **进阶实践部分**：
   - 比较了降维+聚类与直接聚类的差异
   - 比较了 PCA 与特征选择的差异
   - 给出了实用的使用建议

5. **批判性思维部分**：
   - 识别了 AI 生成内容的问题
   - 反思了聚类结果的稳定性
   - 讨论了降维和聚类的局限性

---

## 反馈建议模板

在给作业反馈时，可以使用以下模板：

```
【优点】
- （具体表扬，如：正确标准化了数据，主成分解释合理）

【待改进】
- （具体问题，如：没有解释主成分的业务含义，应该将载荷大的特征翻译成业务语言）
- （具体建议，如：建议用轮廓系数选择 K 值，而不是随意选择）

【总分】X/100
```

---

## 测试与验证

作业中的关键检查点应该能被 `tests/` 目录中的测试覆盖：

- `test_pca_standardization()`：验证 PCA 前是否标准化
- `test_pca_variance()`：验证累积方差计算
- `test_kmeans_standardization()`：验证 K-means 前是否标准化
- `test_silhouette_score()`：验证轮廓系数计算
- `test_cluster_interpretation()`：验证簇解释的合理性

评分时可以运行这些测试来验证代码正确性。

---

## 最后提醒

评分的目的是帮助学生学习，而不仅仅是打分。在评分时：

1. 指出具体的错误和改进方向
2. 鼓励学生明确数据预处理步骤（标准化是关键）
3. 认可学生对结果解释的努力（主成分和簇的业务翻译）
4. 强调"降维和聚类的核心是发现结构，不是创造结构"

记住 Week 15 的核心目标：**理解维度灾难，掌握 PCA 降维，掌握 K-means 聚类，学会将数学输出翻译成业务语言，在 StatLab 报告中应用降维或聚类。**

特别提醒：本周的"数据标准化"和"结果解释"是新增的核心评分维度，与传统的技术正确性同等重要。PCA 和 K-means 都对尺度敏感，标准化是必须步骤。降维和聚类的价值在于发现数据中的隐藏结构，但只有人类能解释这些结构的业务含义。
