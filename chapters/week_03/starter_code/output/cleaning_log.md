## 数据清洗日志

**处理时间**: 2026-02-11 18:37
**初始形状**: (500, 6)
**最终形状**: (497, 14)

### 操作记录

**步骤 1: 删除异常值**
- 目标: total_spend < 0
- 理由: 消费金额不应为负数，判断为数据错误
- 方法: 删除包含负数消费的行
- 影响: 3

**步骤 2: 标记 VIP**
- 目标: total_spend > 50000
- 理由: 高消费用户为真实 VIP，保留并标记
- 方法: 添加 outlier_category 列
- 影响: 5

**步骤 3: 填充缺失值**
- 目标: age
- 理由: 缺失率低，MCAR 机制，中位数稳健
- 方法: 全局中位数填充
- 影响: 25

**步骤 4: 分组填充缺失值**
- 目标: income
- 理由: MAR 机制，分组填充保留地域差异
- 方法: 按 city 分组中位数填充
- 影响: 66

**步骤 5: 标准化**
- 目标: ['age', 'income', 'total_spend']
- 理由: 消除量纲影响
- 方法: StandardScaler (z-score)
- 影响: 497

**步骤 6: 独热编码**
- 目标: city
- 理由: 分类变量需转换为数值
- 方法: OneHotEncoder
- 影响: 497
