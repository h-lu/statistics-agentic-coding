# AI 辅助数据分析的渐进融合

## 核心理念

本课程的 AI 理念深受以下统计学大佬影响：

**Judea Pearl（图灵奖得主，因果推断先驱）**：
> "数据本身不说话，因果推断才是科学的核心。没有因果思维，AI 只是高级的模式匹配。"

**Andrew Gelman（哥伦比亚大学，贝叶斯统计权威）**：
> "模型的检查比模型的拟合更重要。AI 可以生成漂亮的模型，但只有通过严格的模型诊断，我们才能知道它是否可靠。"

**David Donoho（斯坦福大学，'50 Years of Data Science' 作者）**：
> "数据科学不是新学科，它是统计学的自然延续。在 AI 时代，统计推断的基本原理比以往任何时候都更重要。"

**Bradley Efron（斯坦福大学，Bootstrap 发明者）**：
> "大数据并没有让统计学过时，反而让统计推断的假设前提变得更加关键。没有统计思维，大数据只是大混乱。"

**吴恩达（Landing AI, Coursera）**：
> "数据-centric AI 时代，80% 的工作是数据准备和验证，只有 20% 是建模。统计思维是数据工程师的核心竞争力。"

---

## AI 能做什么 vs 人必须做什么

| AI 擅长（加速） | 人的责任（不可替代）|
|----------------|---------------------|
| 生成描述性统计 | 选择正确的统计量 |
| 自动选择图表类型 | 判断可视化是否诚实、是否误导 |
| 执行统计检验 | **设计检验假设、验证前提条件**（Gelman）|
| 拟合模型、调参 | **模型诊断、残差分析**（Gelman）|
| 生成代码 | 理解代码背后的统计原理 |
| 发现相关性 | **判断因果关系**（Pearl）|
| 大数据处理 | **确定分析目标、业务解释**（吴恩达）|

---

## 16周四阶段渐进路径

### 阶段一：观察期（Week 01-04）
**目标**：建立基础，观察 AI 如何工作

**核心任务**：
- 学习 pandas 基础操作
- 理解数据类型和描述统计
- 观察 AI 生成的 EDA 报告

**AI 角色**：
- AI 生成完整的探索性分析代码
- 学生阅读、运行、理解
- 重点：看懂每一行代码的作用

**检查点**：
- [ ] 能解释 AI 生成的每个统计量的含义
- [ ] 能修改代码适应自己的数据
- [ ] 能发现 AI 可视化中的误导性问题

---

### 阶段二：识别期（Week 05-08）
**目标**：学会判断 AI 输出是否正确（关键阶段）

**核心任务**：
- 学习假设检验框架
- 理解 p-value、效应量、置信区间
- **Week 06 AI 审查训练重点**

**AI 角色**：
- AI 生成分析代码和结果
- 学生必须回答：
  - **这个检验方法适合我的数据吗？**（前提条件验证 - Gelman）
  - **p-value 小 = 重要吗？**（效应量 - Cohen）
  - **有没有 p-hacking 嫌疑？**（多重比较）
  - **Bootstrap 的结果可信吗？**（重采样诊断 - Efron）

**Week 06 AI 审查训练**：
给定一个 AI 生成的统计分析报告，找出至少 3 个问题：
1. 方法选择不当（如：对非正态数据用 t 检验）
2. 前提假设未验证（如：未检查方差齐性）
3. p-hacking 嫌疑（如：多重比较未校正）
4. 因果解释错误（如：相关 = 因果 - Pearl）
5. 效应量忽略（如：p < 0.05 但实际不重要）

---

### 阶段三：协作期（Week 09-12）
**目标**：与 AI 协作完成复杂分析，主导解释

**核心任务**：
- 主导分析设计
- 用 AI 加速实现
- 负责模型诊断和解释

**工作流程**：
```
学生："我想预测用户流失，同时理解影响因素"
   ↓
AI：建议模型（逻辑回归、随机森林）并生成代码
   ↓
学生：判断方法是否合适，执行代码
   ↓
AI：生成模型结果和初步解释
   ↓
学生：
   - 残差分析（Gelman：模型检查比拟合重要）
   - 特征重要性解释
   - 判断过拟合
   - 向非技术人员解释结果
```

**检查点**（Gelman 的模型检查清单）：
- [ ] 残差是否正常？
- [ ] 有影响点吗？
- [ ] 模型假设满足吗？
- [ ] 可解释性 vs 预测力权衡如何？

---

### 阶段四：主导期（Week 13-16）
**目标**：独立设计分析方案，AI 作为实现助手

**核心任务**：
- 从业务问题出发设计完整分析
- 尝试因果推断（Pearl）
- 用 AI 快速实现和迭代
- 负责所有判断和解释

**AI 角色**：
- 执行学生设计的分析
- 提供实现建议
- 但不替代决策

**检查点**（期末项目）：
- [ ] 独立完成从问题到结论的分析设计
- [ ] **包含因果推断尝试**（Pearl 的因果图）
- [ ] 记录 AI 使用过程（Prompt → 输出 → 修改）
- [ ] 能向非技术观众解释分析过程
- [ ] 能讨论统计思维的成长

---

## 统计学特定的 AI 陷阱（基于大佬观点）

### 陷阱 1：盲目相信 p-value
**背景**：Fisher 的 p-value 被滥用

AI 输出："p = 0.03，结果显著"

❌ 错误反应："太好了，我的假设是对的！"

✅ 正确反应（Gelman + Cohen）：
- 效应量是多少？（Cohen's d）
- 置信区间是什么？
- 样本量足够吗？
- 这是预设的假设还是探索出来的？（p-hacking）
- **实际业务意义**是什么？

---

### 陷阱 2：忽视前提条件（Gelman）
AI 输出：t 检验结果，p = 0.01

❌ 错误反应：直接使用

✅ 正确反应（Gelman 的模型检查）：
- 数据正态吗？（QQ 图）
- 方差齐性满足吗？（Levene 检验）
- 样本独立吗？
- 如果不满足，改用非参数检验（Mann-Whitney）

---

### 陷阱 3：混淆相关与因果（Pearl）
AI 输出："X 和 Y 高度相关（r = 0.85）"

❌ 错误反应："X 导致 Y"

✅ 正确反应（Pearl 的因果思维）：
- 有没有混杂变量 Z？（Z → X, Z → Y）
- 方向性确定吗？（可能是 Y → X）
- 能排除偶然吗？
- **画因果图！**（Pearl 的核心方法）

---

### 陷阱 4：过度拟合（Gelman）
AI 输出："模型准确率 99.5%，R² = 0.98"

❌ 错误反应："完美模型！"

✅ 正确反应（Gelman）：
- 在测试集上表现如何？
- 交叉验证了吗？
- 模型复杂度合理吗？（过拟合检查）
- 残差分析正常吗？

---

### 陷阱 5：忽视数据质量（吴恩达）
AI 输出：自动生成的清洗后数据

❌ 错误反应：直接使用

✅ 正确反应（吴恩达 Data-centric AI）：
- 缺失值处理合理吗？（MCAR/MAR/MNAR）
- 异常值是真正的错误还是信号？
- 数据偏见检查了吗？
- 80% 的时间应该花在数据上，20% 在建模

---

## AI 使用日志要求

每份作业必须包含 `AI_LOG.md`：

```markdown
## Week XX AI 使用记录

### 使用的工具
- ChatGPT / Claude / Copilot

### AI 参与环节
- [x] 数据清洗
- [x] 可视化生成  
- [ ] 统计检验（手动验证前提）
- [ ] 模型诊断（手动检查残差）

### Prompt 示例
```
[你给的 Prompt]
```

### AI 输出摘要
AI 生成了...（简述）

### 人工审查发现的问题（基于大佬观点）
1. AI 建议的检验方法不满足前提条件（Gelman）
   - 问题：建议用 t 检验但数据明显偏态
   - 我的修正：改用 Mann-Whitney U 检验
   
2. AI 忽略了因果推断中的混杂变量（Pearl）
   - 问题：直接说 X 影响 Y
   - 我的修正：画因果图，发现 Z 是混杂变量
   
3. AI 遗漏了效应量报告（Cohen）
   - 问题：只报告 p-value
   - 我的修正：计算 Cohen's d = 0.3（中等效应）

### 学到的经验
- AI 擅长：快速生成代码框架、尝试多种方法
- AI 不擅长：验证前提条件、因果判断、模型诊断
- 我的改进：先检查假设再跑检验，画因果图再谈因果
```

---

## 从 Python 编程课到统计课的差异

| 维度 | Python 编程课 | 统计数据分析课 |
|------|--------------|----------------|
| 核心产出 | 程序（能运行） | 分析报告（能说服） |
| AI 错误类型 | 语法错误、逻辑 bug | 方法误用、解释过度、因果混淆 |
| 检查重点 | 代码能否运行 | **结论是否可靠**（Gelman）|
| 成功标准 | 功能完整 | **洞察深刻 + 可解释 + 因果合理**（Pearl）|
| 展示形式 | CLI 工具 | 数据故事 + 可视化 + 因果图 |

---

## 统计思维成长路径

### 初级（Week 01-04）：描述思维
- "数据是什么样子的？"
- 均值、中位数、标准差
- 可视化分布

### 中级（Week 05-08）：推断思维  
- "样本能代表总体吗？"
- p-value、置信区间、Bootstrap
- 假设检验框架

### 高级（Week 09-12）：预测思维
- "能预测未来吗？"
- 回归、分类、模型评估
- 过拟合与泛化

### 专家（Week 13-15）：因果思维（Pearl）
- "X 真的导致 Y 吗？"
- 因果图、混杂变量
- 从相关到因果

### 大师（Week 16）：整合思维
- "数据如何支持决策？"
- 统计 + 业务 + 沟通
- AI 作为工具，人类负责判断
