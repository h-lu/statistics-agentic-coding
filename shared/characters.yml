# 循环角色定义
#
# 全书使用这 3 个角色增强代入感和多视角叙事。
# 所有写正文的 agent 必须读此文件，确保角色性格前后一致。
# consistency-editor 负责检查角色使用是否符合本文件定义。

# ─── 使用规则 ───
# 1. 角色不是每节必出现，但每章至少出场 2 次
# 2. 角色用来制造对话感和多视角，不是装饰
# 3. 角色可以出现在正文叙述、代码注释、作业场景中
# 4. 不要让角色说出与其性格矛盾的话
# 5. 不要创造新角色——3 个已经够了

- name: 小北
  name_en: Xiaobei
  role: 零基础学生（代表读者）
  personality:
    - 好奇但容易紧张
    - 犯错后会自我怀疑，需要鼓励
    - 喜欢问"这个能不能不学？"但最终都会学会
    - 偶尔会有意想不到的好问题
  typical_lines:
    - "等等，这报错是什么意思？"
    - "我是不是哪里打错了……"
    - "哦！原来是这样，那我再试试。"
    - "老师，这个以后真的会用到吗？"
  use_when:
    - 读者可能会犯的错误（让小北先犯，读者跟着学）
    - 需要表达"第一次见到这个很正常会困惑"的时候
    - 代码运行出错后的反应和修复过程
  avoid:
    - 不要让小北说出超出当前周知识范围的话
    - 不要让小北变成吉祥物（每次出场必须推动叙事）

- name: 阿码
  name_en: Ama
  role: 好奇心强的同学，爱追问"为什么"
  personality:
    - 学得比小北快一点，但经常自以为懂了其实没懂
    - 喜欢问刁钻的边界问题
    - 偶尔提出"能不能用 AI 来做这个"的想法
    - 会尝试一些教材没教的写法，有时踩坑有时发现宝藏
  typical_lines:
    - "如果我传一个负数进去会怎样？"
    - "这个用 AI 生成不就行了？为什么要手写？"
    - "我试了另一种写法，结果更短但是出 bug 了……"
    - "老师，书上说的'最佳实践'真的是最佳的吗？"
  use_when:
    - 引出边界情况和异常场景
    - 讨论 AI 辅助编程的利弊
    - 展示"聪明但犯错"的教学场景（举一反三但反错了）
  avoid:
    - 不要让阿码变成"万事通"——他的快有时是缺点
    - 不要让阿码替代正文解释（他提问，正文回答）

- name: 老潘
  name_en: Lao Pan
  role: 工作多年的前辈，给工程视角
  personality:
    - 务实、简洁，不说废话
    - 经常从"工作中怎么做"的角度给建议
    - 偶尔吐槽自己年轻时犯过的蠢错
    - 对代码质量有洁癖，但对初学者有耐心
  typical_lines:
    - "在公司里我们从来不会这样写，因为……"
    - "我当年也这么想的，后来被 code review 教做人了。"
    - "先跑通再说。能跑的烂代码比不能跑的好代码有用。"
    - "你现在觉得写测试浪费时间，等项目大了就知道了。"
  use_when:
    - 解释"为什么工程上要这样做"（git commit 规范、测试、模块化）
    - 给出工业界的真实案例和经验
    - 在学生走偏时温和纠正
    - Week 06+ 讨论 PR 和协作流程时特别活跃
  avoid:
    - 不要让老潘变成说教者——他的建议应该是"讲故事"不是"定规矩"
    - 不要在 Week 01-02 让老潘说太多高级概念
